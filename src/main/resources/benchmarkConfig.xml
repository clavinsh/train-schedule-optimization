<?xml version="1.0" encoding="UTF-8"?>
<plannerBenchmark xmlns="https://timefold.ai/xsd/benchmark"
                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="https://timefold.ai/xsd/benchmark https://timefold.ai/xsd/benchmark/benchmark.xsd">
  <benchmarkDirectory>target/benchmark</benchmarkDirectory>
  <warmUpSecondsSpentLimit>30</warmUpSecondsSpentLimit>

  <inheritedSolverBenchmark>
    <solver>
      <solutionClass>org.acme.rollingstockrostering.domain.RollingStockSchedule</solutionClass>
      <entityClass>org.acme.rollingstockrostering.domain.AtiesanasLaiks</entityClass>
      <scoreDirectorFactory>
        <constraintProviderClass>org.acme.rollingstockrostering.solver.RollingStockConstraintProvider</constraintProviderClass>
      </scoreDirectorFactory>
      <termination>
        <minutesSpentLimit>2</minutesSpentLimit>
      </termination>
    </solver>
  </inheritedSolverBenchmark>

  <!-- First Fit Decreasing (baseline) -->
  <solverBenchmark>
    <name>First Fit Decreasing</name>
    <solver>
      <constructionHeuristic>
        <constructionHeuristicType>FIRST_FIT_DECREASING</constructionHeuristicType>
      </constructionHeuristic>
      <localSearch>
        <termination>
          <secondsSpentLimit>30</secondsSpentLimit>
        </termination>
      </localSearch>
    </solver>
  </solverBenchmark>

  <!-- Late Acceptance (recommended for scheduling) -->
  <solverBenchmark>
    <name>Late Acceptance (size 400)</name>
    <solver>
      <constructionHeuristic>
        <constructionHeuristicType>FIRST_FIT_DECREASING</constructionHeuristicType>
      </constructionHeuristic>
      <localSearch>
        <acceptor>
          <lateAcceptanceSize>400</lateAcceptanceSize>
        </acceptor>
        <termination>
          <secondsSpentLimit>30</secondsSpentLimit>
        </termination>
      </localSearch>
    </solver>
  </solverBenchmark>

  <!-- Late Acceptance (larger size) -->
  <solverBenchmark>
    <name>Late Acceptance (size 800)</name>
    <solver>
      <constructionHeuristic>
        <constructionHeuristicType>FIRST_FIT_DECREASING</constructionHeuristicType>
      </constructionHeuristic>
      <localSearch>
        <acceptor>
          <lateAcceptanceSize>800</lateAcceptanceSize>
        </acceptor>
        <termination>
          <secondsSpentLimit>30</secondsSpentLimit>
        </termination>
      </localSearch>
    </solver>
  </solverBenchmark>

  <!-- Tabu Search -->
  <solverBenchmark>
    <name>Tabu Search (size 7)</name>
    <solver>
      <constructionHeuristic>
        <constructionHeuristicType>FIRST_FIT_DECREASING</constructionHeuristicType>
      </constructionHeuristic>
      <localSearch>
        <acceptor>
          <entityTabuSize>7</entityTabuSize>
        </acceptor>
        <termination>
          <secondsSpentLimit>30</secondsSpentLimit>
        </termination>
      </localSearch>
    </solver>
  </solverBenchmark>

  <!-- Simulated Annealing -->
  <solverBenchmark>
    <name>Simulated Annealing</name>
    <solver>
      <constructionHeuristic>
        <constructionHeuristicType>FIRST_FIT_DECREASING</constructionHeuristicType>
      </constructionHeuristic>
      <localSearch>
        <acceptor>
          <simulatedAnnealingStartingTemperature>0hard/200soft</simulatedAnnealingStartingTemperature>
        </acceptor>
        <termination>
          <secondsSpentLimit>30</secondsSpentLimit>
        </termination>
      </localSearch>
    </solver>
  </solverBenchmark>

  <!-- Hybrid: Tabu + Late Acceptance -->
  <solverBenchmark>
    <name>Tabu + Late Acceptance</name>
    <solver>
      <constructionHeuristic>
        <constructionHeuristicType>FIRST_FIT_DECREASING</constructionHeuristicType>
      </constructionHeuristic>
      <localSearch>
        <acceptor>
          <entityTabuSize>7</entityTabuSize>
          <lateAcceptanceSize>400</lateAcceptanceSize>
        </acceptor>
        <termination>
          <secondsSpentLimit>30</secondsSpentLimit>
        </termination>
      </localSearch>
    </solver>
  </solverBenchmark>

</plannerBenchmark>
